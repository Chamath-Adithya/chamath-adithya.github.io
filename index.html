<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- SEO Meta Tags -->
    <title>Chamath Adithya | CTO & IoT Specialist | Interactive OS Portfolio</title>
    <meta name="description" content="Explore the interactive sci-fi OS portfolio of Chamath Adithya, Founder & CTO of SOLVEO. Specialist in IoT, Cybersecurity, Embedded Systems, and Full-Stack Development based in Sri Lanka.">
    <meta name="keywords" content="Chamath Adithya, SOLVEO, CTO, IoT Specialist, Cybersecurity, Sri Lanka, Web Developer, Portfolio, Embedded Systems, React, Node.js, Arduino, ESP32, Rust, Go, CyberSec">
    <meta name="author" content="Chamath Adithya">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://chamath-adithya.github.io/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://chamath-adithya.github.io/">
    <meta property="og:title" content="Chamath Adithya | CTO & IoT Specialist">
    <meta property="og:description" content="Interactive Sci-Fi OS Portfolio. specialized in IoT Security and Full Stack Development.">
    <meta property="og:image" content="https://avatars.githubusercontent.com/u/159120632?s=400&v=4">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://chamath-adithya.github.io/">
    <meta property="twitter:title" content="Chamath Adithya | CTO & IoT Specialist">
    <meta property="twitter:description" content="Interactive Sci-Fi OS Portfolio. specialized in IoT Security and Full Stack Development.">
    <meta property="twitter:image" content="https://avatars.githubusercontent.com/u/159120632?s=400&v=4">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Share+Tech+Mono&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Rajdhani', 'sans-serif'],
                        mono: ['Share Tech Mono', 'monospace'],
                        sci: ['Orbitron', 'sans-serif'],
                    },
                    colors: {
                        cyan: '#00f3ff',
                        magenta: '#ff00aa',
                        void: '#050510',
                        glass: 'rgba(5, 10, 20, 0.75)',
                        'glass-border': 'rgba(0, 243, 255, 0.2)',
                    },
                    animation: {
                        'spin-slow': 'spin 20s linear infinite',
                        'ping-slow': 'ping 3s cubic-bezier(0, 0, 0.2, 1) infinite',
                        'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'glitch': 'glitch 1s linear infinite',
                        'slide-up': 'slideUp 0.3s ease-out forwards',
                    },
                    keyframes: {
                        glitch: {
                            '2%, 64%': { transform: 'translate(2px,0) skew(0deg)' },
                            '4%, 60%': { transform: 'translate(-2px,0) skew(0deg)' },
                            '62%': { transform: 'translate(0,0) skew(5deg)' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Core OS Styles */
        body {
            background-color: #000;
            overflow: hidden;
            /* Custom Cursor for Desktop */
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%2300f3ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="3"/></svg>') 12 12, auto;
            touch-action: none; /* Prevent browser zooming/scrolling on mobile */
        }

        /* Scanline Overlay */
        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.2) 50%, rgba(0,0,0,0.2));
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.3;
        }

        /* CRT Flicker */
        .crt::before {
            content: " ";
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 2;
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
        }

        /* Window Styling */
        .os-window {
            position: absolute;
            background: rgba(5, 10, 20, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 243, 255, 0.3);
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.8);
            border-radius: 6px;
            display: none;
            flex-direction: column;
            overflow: hidden;
            transition: opacity 0.2s, transform 0.2s;
            transform: scale(0.95);
            opacity: 0;
        }

        .os-window.active {
            display: flex;
            opacity: 1;
            transform: scale(1);
            z-index: 50;
        }
        
        /* Mobile Specifics */
        @media (max-width: 768px) {
            .os-window.active {
                position: fixed !important;
                top: 0 !important;
                left: 0 !important;
                width: 100% !important;
                height: calc(100% - 3rem) !important; /* Leave space for taskbar */
                border: none;
                border-radius: 0;
                transform: none;
                z-index: 60; /* Higher than desktop windows */
            }
            .desktop-icon-grid {
                grid-template-columns: repeat(3, 1fr); /* 3 cols on mobile */
                gap: 1.5rem;
                padding: 1.5rem;
                justify-items: center;
            }
            .drag-handle {
                cursor: default !important;
                padding-top: 1rem;
                padding-bottom: 1rem;
            }
            
            /* Start Menu Mobile */
            #start-menu {
                width: 90% !important;
                left: 5% !important;
                bottom: 3.5rem !important;
            }
        }

        /* Custom Scrollbar inside windows */
        .window-content::-webkit-scrollbar {
            width: 4px;
        }
        .window-content::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.5);
        }
        .window-content::-webkit-scrollbar-thumb {
            background: #00f3ff;
            border-radius: 2px;
        }

        /* Start Menu Animation */
        #start-menu {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            transform-origin: bottom left;
        }
        #start-menu.hidden-menu {
            opacity: 0;
            transform: scale(0.9) translateY(10px);
            pointer-events: none;
        }
        #start-menu.visible-menu {
            opacity: 1;
            transform: scale(1) translateY(0);
            pointer-events: auto;
        }
        
        /* Tooltip behavior for funny quotes */
        .skill-item:hover .skill-quote {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body class="crt font-sans text-gray-200 selection:bg-cyan selection:text-black">

    <!-- 3D Background -->
    <canvas id="bg-canvas" class="fixed top-0 left-0 w-full h-full -z-10"></canvas>
    
    <!-- Scanlines -->
    <div class="scanlines"></div>

    <!-- Boot Sequence Overlay -->
    <div id="boot-screen" class="fixed inset-0 z-[100] bg-black flex flex-col justify-center items-center font-mono text-cyan p-4">
        <div class="w-full max-w-2xl">
            <div id="boot-log" class="text-xs md:text-sm space-y-1 mb-8 h-64 overflow-hidden border-l-2 border-cyan pl-4 bg-black/50 p-2 font-bold shadow-[inset_0_0_20px_rgba(0,243,255,0.1)]">
                <!-- JS will populate this -->
            </div>
            <div class="w-full bg-gray-900 h-1.5 rounded overflow-hidden relative">
                <div id="boot-progress" class="absolute top-0 left-0 h-full bg-cyan shadow-[0_0_15px_#00f3ff] transition-all duration-200" style="width: 0%"></div>
            </div>
            <div class="text-center mt-3 text-xs animate-pulse tracking-widest text-magenta">INITIALIZING CHAMATH-ADITHYA OS...</div>
        </div>
    </div>

    <!-- Main OS Interface -->
    <div id="os-interface" class="fixed inset-0 hidden flex-col">
        
        <!-- Top Bar (System Stats) -->
        <div class="h-8 bg-black/80 backdrop-blur border-b border-white/10 flex items-center justify-between px-4 text-xs font-mono text-cyan select-none z-40">
            <div class="flex items-center gap-4">
                <span class="font-bold tracking-wider text-white"><i class="fas fa-satellite-dish text-magenta mr-2"></i>CA-OS v2.0</span>
                <span class="hidden md:inline text-gray-600">|</span>
                <span class="hidden md:inline text-gray-400" id="cpu-stat">CPU: 12%</span>
                <span class="hidden md:inline text-gray-600">|</span>
                <span class="hidden md:inline text-green-400" id="mem-stat">MEM: 4.2GB</span>
            </div>
            <div class="flex items-center gap-4">
                <span id="location-stat" class="hidden sm:inline text-gray-400">LOC: SRI LANKA</span>
                <span id="clock" class="text-white font-bold bg-white/10 px-2 py-0.5 rounded">00:00:00</span>
            </div>
        </div>

        <!-- Desktop Area -->
        <div class="flex-grow relative p-4 md:p-8" id="desktop-area">
            
            <!-- Desktop Icons Grid -->
            <div class="grid desktop-icon-grid w-full md:w-auto md:grid-cols-1 md:absolute md:top-8 md:left-8 gap-8">
                
                <!-- About Icon -->
                <button onclick="openWindow('about-window')" class="group flex flex-col items-center gap-3 md:gap-2 p-2 rounded focus:outline-none transition-transform active:scale-95">
                    <div class="w-16 h-16 md:w-14 md:h-14 rounded-xl bg-black/60 border border-cyan/50 flex items-center justify-center group-hover:shadow-[0_0_20px_#00f3ff] group-hover:border-cyan transition-all relative overflow-hidden backdrop-blur-sm">
                        <div class="absolute inset-0 bg-cyan/10 translate-y-full group-hover:translate-y-0 transition-transform"></div>
                        <i class="fas fa-user-astronaut text-3xl md:text-2xl text-cyan group-hover:scale-110 transition-transform"></i>
                    </div>
                    <span class="text-xs font-mono bg-black/70 px-2 py-1 rounded text-shadow text-cyan border border-cyan/20">Profile.exe</span>
                </button>

                <!-- Projects Icon -->
                <button onclick="openWindow('projects-window')" class="group flex flex-col items-center gap-3 md:gap-2 p-2 rounded focus:outline-none transition-transform active:scale-95">
                    <div class="w-16 h-16 md:w-14 md:h-14 rounded-xl bg-black/60 border border-magenta/50 flex items-center justify-center group-hover:shadow-[0_0_20px_#ff00aa] group-hover:border-magenta transition-all relative overflow-hidden backdrop-blur-sm">
                        <div class="absolute inset-0 bg-magenta/10 translate-y-full group-hover:translate-y-0 transition-transform"></div>
                        <i class="fas fa-folder-open text-3xl md:text-2xl text-magenta group-hover:scale-110 transition-transform"></i>
                    </div>
                    <span class="text-xs font-mono bg-black/70 px-2 py-1 rounded text-shadow text-magenta border border-magenta/20">Projects_DB</span>
                </button>

                <!-- Skills Icon -->
                <button onclick="openWindow('skills-window')" class="group flex flex-col items-center gap-3 md:gap-2 p-2 rounded focus:outline-none transition-transform active:scale-95">
                    <div class="w-16 h-16 md:w-14 md:h-14 rounded-xl bg-black/60 border border-green-500/50 flex items-center justify-center group-hover:shadow-[0_0_20px_#00ff00] group-hover:border-green-500 transition-all relative overflow-hidden backdrop-blur-sm">
                         <div class="absolute inset-0 bg-green-500/10 translate-y-full group-hover:translate-y-0 transition-transform"></div>
                        <i class="fas fa-microchip text-3xl md:text-2xl text-green-500 group-hover:scale-110 transition-transform"></i>
                    </div>
                    <span class="text-xs font-mono bg-black/70 px-2 py-1 rounded text-shadow text-green-400 border border-green-500/20">Skills.sys</span>
                </button>

                <!-- Terminal Icon -->
                <button onclick="openWindow('terminal-window')" class="group flex flex-col items-center gap-3 md:gap-2 p-2 rounded focus:outline-none transition-transform active:scale-95">
                    <div class="w-16 h-16 md:w-14 md:h-14 rounded-xl bg-black/60 border border-white/30 flex items-center justify-center group-hover:shadow-[0_0_20px_#ffffff] group-hover:border-white transition-all relative overflow-hidden backdrop-blur-sm">
                         <div class="absolute inset-0 bg-white/10 translate-y-full group-hover:translate-y-0 transition-transform"></div>
                        <i class="fas fa-terminal text-3xl md:text-2xl text-gray-300 group-hover:scale-110 transition-transform"></i>
                    </div>
                    <span class="text-xs font-mono bg-black/70 px-2 py-1 rounded text-shadow text-white border border-white/20">Terminal</span>
                </button>
            </div>

            <!-- START MENU (Hidden by default) -->
            <div id="start-menu" class="hidden-menu absolute bottom-2 left-2 w-72 bg-black/90 border border-cyan/40 backdrop-blur-xl rounded-lg overflow-hidden shadow-[0_0_30px_rgba(0,243,255,0.2)] z-[60] flex flex-col">
                <!-- Header -->
                <div class="bg-gradient-to-r from-cyan/20 to-magenta/20 p-4 border-b border-white/10 flex items-center gap-3">
                    <div class="w-10 h-10 rounded-full border border-white/50 overflow-hidden">
                        <img src="https://avatars.githubusercontent.com/u/159120632?s=400&u=68fd0384ac76119a0b4d744a0f621af74109a422&v=4" class="w-full h-full object-cover">
                    </div>
                    <div>
                        <div class="font-sci text-white font-bold">CHAMATH ADITHYA</div>
                        <div class="text-[10px] font-mono text-cyan">SYSTEM ADMINISTRATOR</div>
                    </div>
                </div>
                
                <!-- Menu Items -->
                <div class="p-2 space-y-1">
                    <button onclick="openWindow('about-window'); toggleStartMenu()" class="w-full text-left px-4 py-3 hover:bg-white/10 rounded flex items-center gap-3 text-sm text-gray-300 hover:text-cyan transition-colors">
                        <i class="fas fa-user w-5 text-center"></i> Profile
                    </button>
                    <button onclick="openWindow('projects-window'); toggleStartMenu()" class="w-full text-left px-4 py-3 hover:bg-white/10 rounded flex items-center gap-3 text-sm text-gray-300 hover:text-magenta transition-colors">
                        <i class="fas fa-folder-open w-5 text-center"></i> Projects
                    </button>
                    <button onclick="openWindow('skills-window'); toggleStartMenu()" class="w-full text-left px-4 py-3 hover:bg-white/10 rounded flex items-center gap-3 text-sm text-gray-300 hover:text-green-400 transition-colors">
                        <i class="fas fa-microchip w-5 text-center"></i> Skills Matrix
                    </button>
                    <button onclick="openWindow('terminal-window'); toggleStartMenu()" class="w-full text-left px-4 py-3 hover:bg-white/10 rounded flex items-center gap-3 text-sm text-gray-300 hover:text-white transition-colors">
                        <i class="fas fa-terminal w-5 text-center"></i> Terminal
                    </button>
                    <div class="h-px bg-white/10 my-1"></div>
                    <a href="mailto:achamath1@gmail.com" class="w-full text-left px-4 py-3 hover:bg-white/10 rounded flex items-center gap-3 text-sm text-gray-300 hover:text-yellow-400 transition-colors">
                        <i class="fas fa-envelope w-5 text-center"></i> Contact
                    </a>
                </div>

                <!-- Footer -->
                <div class="bg-black/50 p-3 border-t border-white/10 flex justify-between items-center">
                    <button onclick="location.reload()" class="text-red-400 hover:text-red-300 text-xs flex items-center gap-2 px-2 py-1 rounded hover:bg-white/5 transition-colors">
                        <i class="fas fa-power-off"></i> REBOOT SYSTEM
                    </button>
                    <span class="text-[10px] text-gray-600 font-mono">CA-OS v2.0</span>
                </div>
            </div>

            <!-- WINDOWS -->

            <!-- 1. Profile Window -->
            <div id="about-window" class="os-window w-full md:w-[800px] h-full md:h-[500px] top-0 md:top-[10%] md:left-[20%]">
                <!-- Header -->
                <div class="h-10 md:h-8 bg-gray-900 border-b border-cyan/30 flex items-center justify-between px-3 drag-handle cursor-move select-none">
                    <div class="flex items-center gap-2 text-cyan font-mono text-xs md:text-sm">
                        <i class="fas fa-user-circle animate-pulse"></i>
                        <span class="tracking-wider">USER_PROFILE :: CHAMATH</span>
                    </div>
                    <div class="flex gap-4 md:gap-2">
                        <button onclick="minimizeWindow('about-window')" class="hover:text-white text-gray-500 p-1"><i class="fas fa-minus"></i></button>
                        <button onclick="maximizeWindow('about-window')" class="hover:text-white text-gray-500 hidden md:block p-1"><i class="fas fa-expand"></i></button>
                        <button onclick="closeWindow('about-window')" class="text-red-500 hover:text-red-400 hover:bg-red-500/10 rounded px-2 py-1"><i class="fas fa-times text-lg md:text-sm"></i></button>
                    </div>
                </div>
                <!-- Content -->
                <div class="window-content flex-grow overflow-y-auto p-6 bg-black/40 text-gray-300">
                    <div class="flex flex-col md:flex-row gap-8">
                        <!-- Avatar Column -->
                        <div class="w-full md:w-1/3 flex flex-col items-center">
                            <div class="relative w-48 h-48 mb-6 group">
                                <div class="absolute inset-0 border-2 border-cyan rounded-full animate-spin-slow border-dashed"></div>
                                <div class="absolute inset-2 border border-magenta rounded-full"></div>
                                <img src="https://avatars.githubusercontent.com/u/159120632?s=400&u=68fd0384ac76119a0b4d744a0f621af74109a422&v=4" alt="Chamath" class="w-full h-full rounded-full object-cover p-4 opacity-90 group-hover:opacity-100 transition-opacity">
                            </div>
                            <div class="text-center w-full">
                                <h1 class="text-2xl font-sci text-white mb-1 tracking-widest">CHAMATH ADITHYA</h1>
                                <p class="text-cyan font-mono text-sm mb-4">FOUNDER & CTO @ SOLVEO</p>
                                <div class="flex justify-center gap-6 text-2xl">
                                    <a href="https://github.com/Chamath-Adithya" target="_blank" aria-label="GitHub" class="text-gray-400 hover:text-white hover:scale-125 transition-transform"><i class="fab fa-github"></i></a>
                                    <a href="https://www.linkedin.com/in/chamath-adithya-senanayaka-90264936b/" target="_blank" aria-label="LinkedIn" class="text-gray-400 hover:text-blue-400 hover:scale-125 transition-transform"><i class="fab fa-linkedin"></i></a>
                                    <a href="mailto:achamath1@gmail.com" aria-label="Email" class="text-gray-400 hover:text-red-400 hover:scale-125 transition-transform"><i class="fas fa-envelope"></i></a>
                                </div>
                            </div>
                        </div>
                        <!-- Bio Column -->
                        <div class="w-full md:w-2/3 font-sans text-lg leading-relaxed">
                            <div class="mb-6 p-4 border-l-2 border-cyan bg-cyan/5 rounded-r">
                                <h2 class="font-sci text-cyan mb-2 text-xl tracking-wider">MISSION STATUS</h2>
                                <p>Merging software, <span class="text-white font-bold">IoT</span>, <span class="text-white font-bold">Cybersecurity</span>, and <span class="text-white font-bold">Automation</span> to build next-generation secure frameworks.</p>
                            </div>
                            
                            <h3 class="font-mono text-magenta mb-4 border-b border-white/10 pb-2">> BIO_DATA_LOG</h3>
                            <ul class="space-y-3 font-mono text-sm">
                                <li class="flex items-start gap-3">
                                    <i class="fas fa-map-marker-alt text-cyan mt-1"></i>
                                    <span>Based in <strong class="text-white">Sri Lanka</strong>. Architecting enterprise IoT security.</span>
                                </li>
                                <li class="flex items-start gap-3">
                                    <i class="fas fa-brain text-cyan mt-1"></i>
                                    <span>Passionate about <strong class="text-white">TinyML</strong>, Edge AI, and System Architecture.</span>
                                </li>
                                <li class="flex items-start gap-3">
                                    <i class="fas fa-chess text-cyan mt-1"></i>
                                    <span>Strategic Thinker: Chess player & complex problem solver.</span>
                                </li>
                            </ul>

                            <div class="mt-8 flex gap-4 flex-col sm:flex-row">
                                <button onclick="openWindow('projects-window')" class="px-4 py-3 bg-cyan/10 border border-cyan text-cyan hover:bg-cyan hover:text-black font-sci text-sm transition-all w-full rounded hover:shadow-[0_0_15px_#00f3ff]">VIEW PROJECTS</button>
                                <button onclick="openWindow('terminal-window')" class="px-4 py-3 bg-transparent border border-gray-600 text-gray-400 hover:border-white hover:text-white font-sci text-sm transition-all w-full rounded">INIT TERMINAL</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2. Projects Window -->
            <div id="projects-window" class="os-window w-full md:w-[900px] h-full md:h-[600px] top-0 md:top-[15%] md:left-[15%]">
                <div class="h-10 md:h-8 bg-gray-900 border-b border-magenta/30 flex items-center justify-between px-3 drag-handle cursor-move select-none">
                    <div class="flex items-center gap-2 text-magenta font-mono text-xs md:text-sm">
                        <i class="fas fa-folder-tree"></i>
                        <span>PROJECT_DB :: REPOSITORY_ACCESS</span>
                    </div>
                    <div class="flex gap-4 md:gap-2">
                        <button onclick="closeWindow('projects-window')" class="text-red-500 hover:text-red-400 hover:bg-red-500/10 rounded px-2 py-1"><i class="fas fa-times text-lg md:text-sm"></i></button>
                    </div>
                </div>
                <!-- File Explorer Style Content -->
                <div class="window-content flex-grow flex flex-col md:flex-row bg-black/80">
                    <!-- Sidebar -->
                    <div class="w-full md:w-48 bg-gray-900/50 border-r border-white/5 p-4 hidden md:block">
                        <div class="text-xs font-mono text-gray-500 mb-2">DIRECTORY</div>
                        <ul class="space-y-2 text-sm font-mono text-cyan">
                            <li class="cursor-pointer hover:bg-white/5 p-1 rounded"><i class="fas fa-hdd mr-2"></i> root</li>
                            <li class="cursor-pointer hover:bg-white/5 p-1 rounded pl-4 text-white font-bold"><i class="fas fa-folder-open mr-2 text-magenta"></i> projects</li>
                            <li class="cursor-pointer hover:bg-white/5 p-1 rounded pl-8 text-gray-400"><i class="fab fa-github mr-2"></i> archived</li>
                        </ul>
                    </div>
                    <!-- Grid -->
                    <div class="flex-grow p-4 md:p-6 overflow-y-auto">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            
                            <!-- Card 1 -->
                            <div class="border border-white/10 bg-white/5 p-4 hover:border-magenta/50 hover:bg-white/10 transition-all group rounded">
                                <div class="flex justify-between items-start mb-2">
                                    <h3 class="font-sci font-bold text-white group-hover:text-magenta">GoofyBLEProvisioning</h3>
                                    <span class="text-[10px] font-mono bg-magenta/20 text-magenta px-1 rounded">C++</span>
                                </div>
                                <p class="text-xs text-gray-400 mb-4 font-mono leading-relaxed">
                                    ESP32 Arduino library for BLE WiFi provisioning, EEPROM storage, and sensor data transmission.
                                </p>
                                <a href="https://github.com/Chamath-Adithya/GoofyBLEProvisioning" target="_blank" class="text-xs text-cyan hover:underline flex items-center gap-1 p-2 bg-black/30 rounded w-max">
                                    ACCESS_CODE <i class="fas fa-external-link-alt"></i>
                                </a>
                            </div>

                            <!-- Card 2 -->
                            <div class="border border-white/10 bg-white/5 p-4 hover:border-cyan/50 hover:bg-white/10 transition-all group rounded">
                                <div class="flex justify-between items-start mb-2">
                                    <h3 class="font-sci font-bold text-white group-hover:text-cyan">Dayora Man-Day Calc</h3>
                                    <span class="text-[10px] font-mono bg-cyan/20 text-cyan px-1 rounded">TS</span>
                                </div>
                                <p class="text-xs text-gray-400 mb-4 font-mono leading-relaxed">
                                    Specialized audit man-day calculator using TypeScript for precise project estimation.
                                </p>
                                <a href="https://github.com/Chamath-Adithya/Dayora-Audit-Man-Day-Calculator" target="_blank" class="text-xs text-cyan hover:underline flex items-center gap-1 p-2 bg-black/30 rounded w-max">
                                    ACCESS_CODE <i class="fas fa-external-link-alt"></i>
                                </a>
                            </div>

                            <!-- Card 3 -->
                            <div class="border border-white/10 bg-white/5 p-4 hover:border-green-400/50 hover:bg-white/10 transition-all group rounded">
                                <div class="flex justify-between items-start mb-2">
                                    <h3 class="font-sci font-bold text-white group-hover:text-green-400">Water Quality Detector</h3>
                                    <span class="text-[10px] font-mono bg-green-400/20 text-green-400 px-1 rounded">IoT</span>
                                </div>
                                <p class="text-xs text-gray-400 mb-4 font-mono leading-relaxed">
                                    Embedded C++ project for Arduino to detect and analyze water quality metrics in real-time.
                                </p>
                                <a href="https://github.com/Chamath-Adithya/Arduino_Water_Cuality_Detector" target="_blank" class="text-xs text-cyan hover:underline flex items-center gap-1 p-2 bg-black/30 rounded w-max">
                                    ACCESS_CODE <i class="fas fa-external-link-alt"></i>
                                </a>
                            </div>

                            <!-- Card 4 -->
                            <div class="border border-white/10 bg-white/5 p-4 hover:border-yellow-400/50 hover:bg-white/10 transition-all group rounded">
                                <div class="flex justify-between items-start mb-2">
                                    <h3 class="font-sci font-bold text-white group-hover:text-yellow-400">HX711 Sensor Lib</h3>
                                    <span class="text-[10px] font-mono bg-yellow-400/20 text-yellow-400 px-1 rounded">Hardware</span>
                                </div>
                                <p class="text-xs text-gray-400 mb-4 font-mono leading-relaxed">
                                    Implementation and interface code for HX711 load cell amplifiers/sensors.
                                </p>
                                <a href="https://github.com/Chamath-Adithya/HX711-Pleasure_Sensor" target="_blank" class="text-xs text-cyan hover:underline flex items-center gap-1 p-2 bg-black/30 rounded w-max">
                                    ACCESS_CODE <i class="fas fa-external-link-alt"></i>
                                </a>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <!-- 3. Skills Window (EXPANDED) -->
            <div id="skills-window" class="os-window w-full md:w-[900px] h-full md:h-[650px] top-0 md:top-[10%] md:left-[15%]">
                 <div class="h-10 md:h-8 bg-gray-900 border-b border-green-500/30 flex items-center justify-between px-3 drag-handle cursor-move select-none">
                    <div class="flex items-center gap-2 text-green-500 font-mono text-xs md:text-sm">
                        <i class="fas fa-code-branch"></i>
                        <span>SYSTEM_CAPABILITIES :: SKILL_MATRIX_V2.0</span>
                    </div>
                    <div class="flex gap-4 md:gap-2">
                        <button onclick="closeWindow('skills-window')" class="text-red-500 hover:text-red-400 hover:bg-red-500/10 rounded px-2 py-1"><i class="fas fa-times text-lg md:text-sm"></i></button>
                    </div>
                </div>
                <div class="window-content p-6 overflow-y-auto bg-black/90">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        
                        <!-- Col 1 -->
                        <div class="space-y-8">
                            <!-- Languages -->
                            <div>
                                <h4 class="text-white font-sci text-sm mb-4 border-b border-gray-700 pb-1 flex justify-between">
                                    <span>LANGUAGES</span>
                                    <span class="text-gray-500 text-[10px] italic">"Syntax is optional... wait, no."</span>
                                </h4>
                                <div class="space-y-2">
                                    <div class="skill-item relative group bg-gray-800 p-2 rounded border border-white/5 hover:border-cyan/30 flex justify-between items-center cursor-help">
                                        <div class="flex items-center">
                                            <i class="fab fa-js text-yellow-400 mr-2 text-lg"></i>
                                            <span class="text-cyan font-mono text-xs">JS / TypeScript</span>
                                        </div>
                                        <span class="text-white text-xs font-bold">98%</span>
                                        <div class="skill-quote absolute -top-8 left-0 bg-cyan text-black text-[10px] px-2 py-1 rounded font-bold opacity-0 transition-opacity pointer-events-none w-max z-10">"It compiles? Ship it."</div>
                                    </div>
                                    <div class="skill-item relative group bg-gray-800 p-2 rounded border border-white/5 hover:border-cyan/30 flex justify-between items-center cursor-help">
                                        <div class="flex items-center">
                                            <i class="fas fa-microchip text-blue-400 mr-2 text-lg"></i>
                                            <span class="text-cyan font-mono text-xs">C / C++</span>
                                        </div>
                                        <span class="text-white text-xs font-bold">90%</span>
                                        <div class="skill-quote absolute -top-8 left-0 bg-cyan text-black text-[10px] px-2 py-1 rounded font-bold opacity-0 transition-opacity pointer-events-none w-max z-10">"Segfaults build character."</div>
                                    </div>
                                    <div class="skill-item relative group bg-gray-800 p-2 rounded border border-white/5 hover:border-cyan/30 flex justify-between items-center cursor-help">
                                        <div class="flex items-center">
                                            <i class="fab fa-python text-blue-300 mr-2 text-lg"></i>
                                            <span class="text-cyan font-mono text-xs">Python</span>
                                        </div>
                                        <span class="text-white text-xs font-bold">95%</span>
                                        <div class="skill-quote absolute -top-8 left-0 bg-cyan text-black text-[10px] px-2 py-1 rounded font-bold opacity-0 transition-opacity pointer-events-none w-max z-10">"import solution_to_everything"</div>
                                    </div>
                                    <div class="skill-item relative group bg-gray-800 p-2 rounded border border-white/5 hover:border-cyan/30 flex justify-between items-center cursor-help">
                                        <div class="flex items-center">
                                            <i class="fab fa-rust text-orange-400 mr-2 text-lg"></i>
                                            <span class="text-cyan font-mono text-xs">Rust / Go</span>
                                        </div>
                                        <span class="text-white text-xs font-bold">85%</span>
                                        <div class="skill-quote absolute -top-8 left-0 bg-cyan text-black text-[10px] px-2 py-1 rounded font-bold opacity-0 transition-opacity pointer-events-none w-max z-10">"Borrow checker is my therapist."</div>
                                    </div>
                                    <div class="skill-item relative group bg-gray-800 p-2 rounded border border-white/5 hover:border-cyan/30 flex justify-between items-center cursor-help">
                                        <div class="flex items-center">
                                            <i class="fab fa-java text-red-400 mr-2 text-lg"></i>
                                            <span class="text-cyan font-mono text-xs">Java / Dart / PHP</span>
                                        </div>
                                        <span class="text-white text-xs font-bold">80%</span>
                                        <div class="skill-quote absolute -top-8 left-0 bg-cyan text-black text-[10px] px-2 py-1 rounded font-bold opacity-0 transition-opacity pointer-events-none w-max z-10">"Enterprise grade... mostly."</div>
                                    </div>
                                </div>
                            </div>

                            <!-- IoT & Embedded -->
                            <div>
                                <h4 class="text-green-400 font-sci text-sm mb-4 border-b border-gray-700 pb-1 flex justify-between">
                                    <span>IoT & EMBEDDED</span>
                                    <span class="text-gray-500 text-[10px] italic">"Hardware is hard."</span>
                                </h4>
                                <div class="space-y-2">
                                    <div class="skill-item relative group bg-gray-800 p-2 rounded border border-white/5 hover:border-green-400/30 flex justify-between items-center cursor-help">
                                        <div class="flex items-center">
                                            <i class="fas fa-microchip text-green-400 mr-2 text-lg"></i>
                                            <span class="text-green-400 font-mono text-xs">ESP32 / Arduino / RPi</span>
                                        </div>
                                        <span class="text-white text-xs font-bold">99%</span>
                                        <div class="skill-quote absolute -top-8 left-0 bg-green-400 text-black text-[10px] px-2 py-1 rounded font-bold opacity-0 transition-opacity pointer-events-none w-max z-10">"I dream in GPIO pins."</div>
                                    </div>
                                    <div class="skill-item relative group bg-gray-800 p-2 rounded border border-white/5 hover:border-green-400/30 flex justify-between items-center cursor-help">
                                        <div class="flex items-center">
                                            <i class="fas fa-network-wired text-green-400 mr-2 text-lg"></i>
                                            <span class="text-green-400 font-mono text-xs">MQTT / FreeRTOS</span>
                                        </div>
                                        <span class="text-white text-xs font-bold">92%</span>
                                        <div class="skill-quote absolute -top-8 left-0 bg-green-400 text-black text-[10px] px-2 py-1 rounded font-bold opacity-0 transition-opacity pointer-events-none w-max z-10">"Packet loss is just a suggestion."</div>
                                    </div>
                                    <div class="skill-item relative group bg-gray-800 p-2 rounded border border-white/5 hover:border-green-400/30 flex justify-between items-center cursor-help">
                                        <div class="flex items-center">
                                            <i class="fas fa-brain text-green-400 mr-2 text-lg"></i>
                                            <span class="text-green-400 font-mono text-xs">TinyML / Edge AI</span>
                                        </div>
                                        <span class="text-white text-xs font-bold">88%</span>
                                        <div class="skill-quote absolute -top-8 left-0 bg-green-400 text-black text-[10px] px-2 py-1 rounded font-bold opacity-0 transition-opacity pointer-events-none w-max z-10">"Machine Learning on a potato."</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Security -->
                            <div>
                                <h4 class="text-red-500 font-sci text-sm mb-4 border-b border-gray-700 pb-1 flex justify-between">
                                    <span>CYBERSECURITY</span>
                                    <span class="text-gray-500 text-[10px] italic">"I'm in."</span>
                                </h4>
                                <div class="flex flex-wrap gap-2">
                                    <span class="px-2 py-1 bg-red-900/30 border border-red-500/30 text-red-400 text-[10px] font-mono rounded hover:bg-red-500 hover:text-black transition-colors cursor-crosshair flex items-center" title="The Swiss Army Knife"><i class="fab fa-linux mr-1"></i> Kali Linux</span>
                                    <span class="px-2 py-1 bg-red-900/30 border border-red-500/30 text-red-400 text-[10px] font-mono rounded hover:bg-red-500 hover:text-black transition-colors cursor-crosshair flex items-center" title="I see everything"><i class="fas fa-wave-square mr-1"></i> Wireshark</span>
                                    <span class="px-2 py-1 bg-red-900/30 border border-red-500/30 text-red-400 text-[10px] font-mono rounded hover:bg-red-500 hover:text-black transition-colors cursor-crosshair flex items-center" title="Knock knock"><i class="fas fa-eye mr-1"></i> Nmap</span>
                                    <span class="px-2 py-1 bg-red-900/30 border border-red-500/30 text-red-400 text-[10px] font-mono rounded hover:bg-red-500 hover:text-black transition-colors cursor-crosshair flex items-center" title="Intercepting requests..."><i class="fas fa-bug mr-1"></i> Burp Suite</span>
                                    <span class="px-2 py-1 bg-red-900/30 border border-red-500/30 text-red-400 text-[10px] font-mono rounded hover:bg-red-500 hover:text-black transition-colors cursor-crosshair flex items-center" title="Exploitation framework"><i class="fas fa-bomb mr-1"></i> Metasploit</span>
                                </div>
                            </div>
                        </div>

                        <!-- Col 2 -->
                        <div class="space-y-8">
                            <!-- Frameworks -->
                            <div>
                                <h4 class="text-magenta font-sci text-sm mb-4 border-b border-gray-700 pb-1 flex justify-between">
                                    <span>FRAMEWORKS</span>
                                    <span class="text-gray-500 text-[10px] italic">"npm install universe"</span>
                                </h4>
                                <div class="space-y-2">
                                    <div class="skill-item relative group bg-gray-800 p-2 rounded border border-white/5 hover:border-magenta/30 flex justify-between items-center cursor-help">
                                        <div class="flex items-center">
                                            <i class="fab fa-react text-cyan mr-2 text-lg"></i>
                                            <span class="text-magenta font-mono text-xs">React / Next.js / Node</span>
                                        </div>
                                        <span class="text-white text-xs font-bold">92%</span>
                                        <div class="skill-quote absolute -top-8 left-0 bg-magenta text-black text-[10px] px-2 py-1 rounded font-bold opacity-0 transition-opacity pointer-events-none w-max z-10">"Hooked on Hooks."</div>
                                    </div>
                                    <div class="skill-item relative group bg-gray-800 p-2 rounded border border-white/5 hover:border-magenta/30 flex justify-between items-center cursor-help">
                                        <div class="flex items-center">
                                            <i class="fab fa-android text-cyan mr-2 text-lg"></i>
                                            <span class="text-magenta font-mono text-xs">Electron / Flutter</span>
                                        </div>
                                        <span class="text-white text-xs font-bold">85%</span>
                                        <div class="skill-quote absolute -top-8 left-0 bg-magenta text-black text-[10px] px-2 py-1 rounded font-bold opacity-0 transition-opacity pointer-events-none w-max z-10">"Cross-platform magic."</div>
                                    </div>
                                    <div class="skill-item relative group bg-gray-800 p-2 rounded border border-white/5 hover:border-magenta/30 flex justify-between items-center cursor-help">
                                        <div class="flex items-center">
                                            <i class="fas fa-bolt text-cyan mr-2 text-lg"></i>
                                            <span class="text-magenta font-mono text-xs">FastAPI / Express</span>
                                        </div>
                                        <span class="text-white text-xs font-bold">90%</span>
                                        <div class="skill-quote absolute -top-8 left-0 bg-magenta text-black text-[10px] px-2 py-1 rounded font-bold opacity-0 transition-opacity pointer-events-none w-max z-10">"RESTful nights."</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Cloud & Ops -->
                            <div>
                                <h4 class="text-blue-400 font-sci text-sm mb-4 border-b border-gray-700 pb-1 flex justify-between">
                                    <span>CLOUD & DEVOPS</span>
                                    <span class="text-gray-500 text-[10px] italic">"There is no cloud, just others' computers"</span>
                                </h4>
                                <div class="space-y-2">
                                    <div class="skill-item relative group bg-gray-800 p-2 rounded border border-white/5 hover:border-blue-400/30 flex justify-between items-center cursor-help">
                                        <div class="flex items-center">
                                            <i class="fab fa-docker text-blue-400 mr-2 text-lg"></i>
                                            <span class="text-blue-400 font-mono text-xs">Docker / K8s</span>
                                        </div>
                                        <span class="text-white text-xs font-bold">88%</span>
                                        <div class="skill-quote absolute -top-8 left-0 bg-blue-400 text-black text-[10px] px-2 py-1 rounded font-bold opacity-0 transition-opacity pointer-events-none w-max z-10">"It works on my machine... now yours too."</div>
                                    </div>
                                    <div class="skill-item relative group bg-gray-800 p-2 rounded border border-white/5 hover:border-blue-400/30 flex justify-between items-center cursor-help">
                                        <div class="flex items-center">
                                            <i class="fab fa-aws text-orange-400 mr-2 text-lg"></i>
                                            <span class="text-blue-400 font-mono text-xs">AWS / Firebase</span>
                                        </div>
                                        <span class="text-white text-xs font-bold">85%</span>
                                        <div class="skill-quote absolute -top-8 left-0 bg-blue-400 text-black text-[10px] px-2 py-1 rounded font-bold opacity-0 transition-opacity pointer-events-none w-max z-10">"Serverless billing anxiety."</div>
                                    </div>
                                    <div class="skill-item relative group bg-gray-800 p-2 rounded border border-white/5 hover:border-blue-400/30 flex justify-between items-center cursor-help">
                                        <div class="flex items-center">
                                            <i class="fab fa-linux text-yellow-200 mr-2 text-lg"></i>
                                            <span class="text-blue-400 font-mono text-xs">Linux (Arch/Ubuntu)</span>
                                        </div>
                                        <span class="text-white text-xs font-bold">99%</span>
                                        <div class="skill-quote absolute -top-8 left-0 bg-blue-400 text-black text-[10px] px-2 py-1 rounded font-bold opacity-0 transition-opacity pointer-events-none w-max z-10">"sudo make me a sandwich."</div>
                                    </div>
                                    <div class="skill-item relative group bg-gray-800 p-2 rounded border border-white/5 hover:border-blue-400/30 flex justify-between items-center cursor-help">
                                        <div class="flex items-center">
                                            <i class="fas fa-code-branch text-blue-400 mr-2 text-lg"></i>
                                            <span class="text-blue-400 font-mono text-xs">Terraform / Ansible</span>
                                        </div>
                                        <span class="text-white text-xs font-bold">80%</span>
                                        <div class="skill-quote absolute -top-8 left-0 bg-blue-400 text-black text-[10px] px-2 py-1 rounded font-bold opacity-0 transition-opacity pointer-events-none w-max z-10">"Infrastructure as Code (and bugs)."</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Databases -->
                            <div>
                                <h4 class="text-yellow-400 font-sci text-sm mb-4 border-b border-gray-700 pb-1 flex justify-between">
                                    <span>DATA CORE</span>
                                    <span class="text-gray-500 text-[10px] italic">"SELECT * FROM life"</span>
                                </h4>
                                <div class="flex flex-wrap gap-2">
                                    <span class="px-2 py-1 bg-yellow-900/30 border border-yellow-400/30 text-yellow-400 text-[10px] font-mono rounded flex items-center"><i class="fas fa-database mr-1"></i> PostgreSQL</span>
                                    <span class="px-2 py-1 bg-yellow-900/30 border border-yellow-400/30 text-yellow-400 text-[10px] font-mono rounded flex items-center"><i class="fas fa-leaf mr-1"></i> MongoDB</span>
                                    <span class="px-2 py-1 bg-yellow-900/30 border border-yellow-400/30 text-yellow-400 text-[10px] font-mono rounded flex items-center"><i class="fas fa-memory mr-1"></i> Redis</span>
                                    <span class="px-2 py-1 bg-yellow-900/30 border border-yellow-400/30 text-yellow-400 text-[10px] font-mono rounded flex items-center"><i class="fas fa-server mr-1"></i> DuckDB</span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <!-- 4. Terminal Window -->
            <div id="terminal-window" class="os-window w-full md:w-[600px] h-full md:h-[400px] top-0 md:top-[25%] md:left-[25%] border-gray-500">
                <div class="h-10 md:h-8 bg-gray-800 border-b border-gray-600 flex items-center justify-between px-3 drag-handle cursor-move select-none">
                    <div class="flex items-center gap-2 text-gray-300 font-mono text-xs md:text-sm">
                        <i class="fas fa-terminal"></i>
                        <span>bash -- ca-term</span>
                    </div>
                    <div class="flex gap-4 md:gap-2">
                        <button onclick="closeWindow('terminal-window')" class="text-red-500 hover:text-red-400 hover:bg-red-500/10 rounded px-2 py-1"><i class="fas fa-times text-lg md:text-sm"></i></button>
                    </div>
                </div>
                <div class="window-content bg-black/95 p-4 font-mono text-xs md:text-sm text-gray-300 h-full overflow-y-auto" onclick="document.getElementById('term-input').focus()">
                    <div class="mb-4 text-cyan leading-tight whitespace-pre">
  ____    _       ___   ____  
 / ___|  / \     / _ \ / ___| 
| |     / _ \   | | | |\___ \ 
| |___ / ___ \  | |_| | ___) |
 \____/_/   \_\  \___/ |____/ v2.0
                    </div>
                    <div class="mb-2">
                        <span class="text-green-400">guest@chamath-os</span>:<span class="text-blue-400">~</span>$ Welcome to Chamath-Adithya OS v2.0
                    </div>
                    <div class="mb-2 text-gray-500">Initialized at <span id="term-date"></span></div>
                    <div class="mb-2">Type <span class="text-yellow-400">'help'</span> to see available commands.</div>
                    
                    <div id="terminal-output" class="space-y-1 mb-2"></div>
                    
                    <div class="flex items-center">
                        <span class="text-green-400 mr-2">guest@chamath-os:~$</span>
                        <input type="text" id="term-input" class="bg-transparent border-none outline-none text-white flex-grow font-mono" autocomplete="off" spellcheck="false">
                    </div>
                </div>
            </div>

        </div>

        <!-- Taskbar -->
        <div class="h-12 bg-black/80 border-t border-white/10 flex items-center px-2 md:px-4 z-[55] backdrop-blur-md">
            <!-- Start Button -->
            <button onclick="toggleStartMenu()" class="flex items-center gap-2 px-4 py-1.5 bg-cyan/10 hover:bg-cyan/30 border border-cyan/40 rounded text-cyan font-bold font-sci text-sm transition-all mr-4 shadow-[0_0_10px_rgba(0,243,255,0.2)] hover:shadow-[0_0_20px_rgba(0,243,255,0.5)] active:scale-95">
                <i class="fas fa-rocket"></i> <span class="hidden md:inline">LAUNCH</span>
            </button>
            
            <!-- Open Windows List (Hidden on Mobile for cleaner look) -->
            <div class="flex-grow flex gap-2 overflow-x-auto hide-scrollbar hidden md:flex" id="taskbar-apps">
                <!-- Dynamically populated -->
            </div>
            
            <!-- Mobile spacer -->
            <div class="flex-grow md:hidden"></div>

            <!-- Tray Icons -->
            <div class="flex items-center gap-3 md:gap-4 text-gray-400 text-xs px-2 md:border-l md:border-white/10 ml-2">
                <i class="fas fa-wifi text-cyan animate-pulse"></i>
                <i class="fas fa-volume-up hidden md:inline"></i>
                <i class="fas fa-battery-full text-green-400"></i>
                <span class="md:hidden text-white font-bold ml-2" id="mobile-clock">00:00</span>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // --- BOOT SEQUENCE LOGIC ---
        const bootLog = document.getElementById('boot-log');
        const bootProgress = document.getElementById('boot-progress');
        const bootScreen = document.getElementById('boot-screen');
        const osInterface = document.getElementById('os-interface');
        
        const bootMessages = [
            "BIOS DATE 05/12/2025 15:23:01 VER 2.0.0",
            "CPU: QUANTUM CORE i9 - 128 CORES DETECTED",
            "MEM: 64TB RAM OK",
            "INITIALIZING CHAMATH-ADITHYA KERNEL...",
            "LOADING DRIVERS: [GPU] [NET] [AI_CORE]",
            "MOUNTING FILESYSTEMS... OK",
            "CHECKING SECURITY PROTOCOLS... OK",
            "CONNECTING TO NEURAL NET... ESTABLISHED",
            "LOADING USER PROFILE: GUEST",
            "SYSTEM READY."
        ];

        let msgIndex = 0;
        
        function typeBootLog() {
            if (msgIndex < bootMessages.length) {
                const div = document.createElement('div');
                div.innerText = "> " + bootMessages[msgIndex];
                div.className = "text-green-400"; // Matrix style text
                if(msgIndex > 6) div.className = "text-cyan";
                
                bootLog.appendChild(div);
                bootLog.scrollTop = bootLog.scrollHeight;
                
                // Update Progress bar
                const progress = ((msgIndex + 1) / bootMessages.length) * 100;
                bootProgress.style.width = `${progress}%`;

                msgIndex++;
                setTimeout(typeBootLog, Math.random() * 200 + 50); // Faster boot
            } else {
                setTimeout(() => {
                    bootScreen.style.opacity = '0';
                    setTimeout(() => {
                        bootScreen.style.display = 'none';
                        osInterface.style.display = 'flex';
                        // Auto open about window on start for desktop, maybe not mobile
                        if(window.innerWidth > 768) {
                            setTimeout(() => openWindow('about-window'), 500);
                        }
                    }, 500);
                }, 500);
            }
        }

        // Start Boot on Load
        window.addEventListener('load', typeBootLog);


        // --- WINDOW MANAGEMENT ---
        let maxZIndex = 50;
        
        function openWindow(id) {
            const win = document.getElementById(id);
            win.classList.add('active');
            moveToFront(id);
            addToTaskbar(id);
        }

        function closeWindow(id) {
            const win = document.getElementById(id);
            win.classList.remove('active');
            removeFromTaskbar(id);
        }

        function minimizeWindow(id) {
            closeWindow(id); // Simple minimize behavior
        }

        function maximizeWindow(id) {
            const win = document.getElementById(id);
            if(win.style.width === "100%") {
                win.style.width = "";
                win.style.height = "";
                win.style.top = "";
                win.style.left = "";
            } else {
                win.style.width = "100%";
                win.style.height = "100%";
                win.style.top = "0";
                win.style.left = "0";
            }
        }

        function moveToFront(id) {
            const win = document.getElementById(id);
            if(win) {
                maxZIndex++;
                win.style.zIndex = maxZIndex;
            }
        }

        // Draggable Logic (Desktop Only)
        const windows = document.querySelectorAll('.os-window');
        windows.forEach(win => {
            const handle = win.querySelector('.drag-handle');
            if(!handle) return;

            win.addEventListener('mousedown', () => moveToFront(win.id));
            // Mobile touch event for z-index
            win.addEventListener('touchstart', () => moveToFront(win.id), {passive: true});

            let isDragging = false;
            let startX, startY, initialLeft, initialTop;

            handle.addEventListener('mousedown', (e) => {
                // Disable drag on mobile/maximized
                if(window.innerWidth <= 768 || win.style.width === "100%") return;
                
                isDragging = true;
                startX = e.clientX;
                startY = e.clientY;
                
                const rect = win.getBoundingClientRect();
                initialLeft = rect.left;
                initialTop = rect.top; 
            });

            window.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                const dx = e.clientX - startX;
                const dy = e.clientY - startY;
                
                win.style.left = `${initialLeft + dx}px`;
                win.style.top = `${initialTop + dy}px`;
                win.style.transform = 'none'; 
            });

            window.addEventListener('mouseup', () => {
                isDragging = false;
            });
        });

        // --- TASKBAR LOGIC ---
        function addToTaskbar(id) {
            const container = document.getElementById('taskbar-apps');
            const existing = document.getElementById(`task-${id}`);
            if (existing) return;

            const nameMap = {
                'about-window': 'Profile',
                'projects-window': 'Projects',
                'skills-window': 'Skills',
                'terminal-window': 'Terminal'
            };

            const btn = document.createElement('button');
            btn.id = `task-${id}`;
            btn.className = "px-3 py-1 bg-white/10 border-b-2 border-cyan text-gray-300 text-xs font-mono hover:bg-white/20 transition-colors flex items-center gap-2";
            btn.innerHTML = `<span class="w-2 h-2 rounded-full bg-cyan animate-pulse"></span> ${nameMap[id]}`;
            btn.onclick = () => openWindow(id);
            container.appendChild(btn);
        }

        function removeFromTaskbar(id) {
            const btn = document.getElementById(`task-${id}`);
            if (btn) btn.remove();
        }

        // --- START MENU LOGIC ---
        const startMenu = document.getElementById('start-menu');
        
        function toggleStartMenu() {
            startMenu.classList.toggle('hidden-menu');
            startMenu.classList.toggle('visible-menu');
        }
        
        // Close menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!startMenu.contains(e.target) && !e.target.closest('button[onclick="toggleStartMenu()"]')) {
                startMenu.classList.add('hidden-menu');
                startMenu.classList.remove('visible-menu');
            }
        });


        // --- TERMINAL LOGIC ---
        const termInput = document.getElementById('term-input');
        const termOutput = document.getElementById('terminal-output');
        document.getElementById('term-date').innerText = new Date().toLocaleString();
        
        termInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                const command = this.value.trim().toLowerCase();
                this.value = '';
                
                processCommand(command);
            }
        });

        function processCommand(cmd) {
            addToTerm(`guest@chamath-os:~$ ${cmd}`, 'text-gray-400');
            
            // Clean command (remove sudo if present just for parsing)
            const cleanCmd = cmd.replace('sudo ', '');

            // Basic parsing for args
            const parts = cleanCmd.split(' ');
            const baseCmd = parts[0];
            const args = parts.slice(1).join(' ');

            if (cmd.startsWith('sudo')) {
                addToTerm("Permission denied: user is not in the sudoers file. This incident will be reported.", 'text-red-500');
                return;
            }
            
            switch(baseCmd) {
                case 'help':
                    addToTerm("Available commands: help, ls, cat, echo, whoami, projects, skills, socials, contact, clear, date, weather, fact, matrix, reboot", 'text-cyan');
                    break;
                case 'ls':
                    addToTerm("profile.exe  projects_db  skills.sys  socials.txt  README.txt", 'text-green-300');
                    break;
                case 'cat':
                    if (!args) {
                        addToTerm("Usage: cat <filename>", 'text-yellow-400');
                    } else if (args === 'readme.txt') {
                        addToTerm("----------------------------------------", 'text-gray-500');
                        addToTerm("Welcome to Chamath-Adithya OS v2.0", 'text-white');
                        addToTerm("This is an interactive portfolio designed", 'text-gray-400');
                        addToTerm("to showcase my skills in IoT & Web Dev.", 'text-gray-400');
                        addToTerm("----------------------------------------", 'text-gray-500');
                    } else if (args === 'socials.txt') {
                         addToTerm("GitHub: https://github.com/Chamath-Adithya", 'text-blue-300');
                         addToTerm("LinkedIn: https://linkedin.com/in/chamath-adithya", 'text-blue-300');
                    } else if (args === 'profile.exe' || args === 'projects_db' || args === 'skills.sys') {
                        addToTerm("Error: Binary file not readable. Use GUI to open.", 'text-red-400');
                    } else {
                        addToTerm(`File not found: ${args}`, 'text-red-500');
                    }
                    break;
                case 'echo':
                    addToTerm(args, 'text-white');
                    break;
                case 'whoami':
                    addToTerm("Chamath Adithya | Founder & CTO | SOLVEO", 'text-magenta');
                    break;
                case 'projects':
                    addToTerm("Opening Project Database...", 'text-green-400');
                    openWindow('projects-window');
                    break;
                case 'skills':
                    addToTerm("Listing System Capabilities...", 'text-green-400');
                    addToTerm("LANGUAGES: JS, TS, C++, Rust, Go, Python, PHP, Dart", 'text-gray-300');
                    addToTerm("HARDWARE: ESP32, Arduino, Raspberry Pi, MQTT", 'text-gray-300');
                    addToTerm("CLOUD: AWS, Docker, K8s, Firebase, Terraform", 'text-gray-300');
                    addToTerm("SECURITY: Kali, Metasploit, Wireshark, Burp", 'text-gray-300');
                    break;
                 case 'socials':
                    addToTerm("GitHub: https://github.com/Chamath-Adithya", 'text-blue-300');
                    addToTerm("LinkedIn: https://linkedin.com/in/chamath-adithya", 'text-blue-300');
                    break;
                case 'contact':
                    addToTerm("Email: achamath1@gmail.com", 'text-white');
                    addToTerm("Opening mail client...", 'text-gray-500');
                    setTimeout(() => window.location.href = "mailto:achamath1@gmail.com", 1000);
                    break;
                case 'weather':
                    addToTerm("Location: Sri Lanka", 'text-gray-400');
                    addToTerm("Condition: Partly Cloudy, 28C", 'text-yellow-300');
                    addToTerm("Humidity: 82%", 'text-blue-300');
                    break;
                case 'fact':
                    const facts = [
                        "The first computer bug was an actual moth.",
                        "IoT devices will outnumber humans 3 to 1 by 2025.",
                        "The Apollo 11 guidance computer had less processing power than a modern calculator.",
                        "Linux powers 100% of the world's top 500 supercomputers."
                    ];
                    addToTerm(facts[Math.floor(Math.random() * facts.length)], 'text-magenta');
                    break;
                case 'matrix':
                     // Fun little text loop
                     let i = 0;
                     const matrixInterval = setInterval(() => {
                        addToTerm(Math.random().toString(36).substring(7), 'text-green-500');
                        i++;
                        if(i > 20) clearInterval(matrixInterval);
                        // Auto scroll
                        const container = document.querySelector('#terminal-window .window-content');
                        container.scrollTop = container.scrollHeight;
                     }, 50);
                     break;
                case 'clear':
                    termOutput.innerHTML = '';
                    break;
                case 'date':
                    addToTerm(new Date().toString(), 'text-white');
                    break;
                case 'reboot':
                    location.reload();
                    break;
                case '':
                    break;
                default:
                    addToTerm(`Command not found: ${cmd}`, 'text-red-500');
            }
            // Scroll to bottom
            const container = document.querySelector('#terminal-window .window-content');
            container.scrollTop = container.scrollHeight;
        }

        function addToTerm(text, colorClass) {
            const div = document.createElement('div');
            div.className = colorClass;
            div.textContent = text;
            termOutput.appendChild(div);
        }


        // --- CLOCK & STATS ---
        function updateClock() {
            const now = new Date();
            const timeString = now.toLocaleTimeString();
            document.getElementById('clock').innerText = timeString;
            document.getElementById('mobile-clock').innerText = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            // Random CPU fluctuation for effect
            if(Math.random() > 0.5) {
                document.getElementById('cpu-stat').innerText = `CPU: ${Math.floor(Math.random() * 30 + 5)}%`;
            }
        }
        setInterval(updateClock, 1000);


        // --- 3D BACKGROUND (THREE.JS) ---
        const initThreeJS = () => {
            const canvas = document.getElementById('bg-canvas');
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true });
            
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);

            // Create Starfield
            const starsGeometry = new THREE.BufferGeometry();
            const starsCount = 2000;
            const posArray = new Float32Array(starsCount * 3);

            for(let i = 0; i < starsCount * 3; i++) {
                posArray[i] = (Math.random() - 0.5) * 100;
            }

            starsGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));

            const starsMaterial = new THREE.PointsMaterial({
                size: 0.15,
                color: 0x00f3ff,
                transparent: true,
                opacity: 0.8,
            });

            const starMesh = new THREE.Points(starsGeometry, starsMaterial);
            scene.add(starMesh);

            camera.position.z = 30;

            // Animation
            const animate = () => {
                requestAnimationFrame(animate);
                starMesh.rotation.y += 0.0005;
                starMesh.rotation.x += 0.0002;
                renderer.render(scene, camera);
            };

            animate();

            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        };

        initThreeJS();

    </script>
</body>
</html>
